# Операционные системы

## Лабораторная работа №1

1. Создайте свой каталог в директории `/home/user/`, все скрипты создавайте внутри этого каталога или его подкаталогов. `(mkdir lab1)`

2. Напишите скрипты, решающие следующие задачи:      
    1. В параметрах скрипта передаются две строки. Вывести сообщение о равенстве или неравенстве переданных строк.
    2. В параметрах при запуске скрипта передаются три целых числа. Вывести максимальное из них.
    3. Считывать строки с клавиатуры, пока не будет введена строка `"q"`. После этого вывести последовательность считанных строк в виде одной строки.
    4. Считывать с клавиатуры целые числа, пока не будет введено четное число. После этого вывести количество считанных чисел.
    5. Создать текстовое меню с четырьмя пунктами. При вводе пользователем номера пункта меню происходит запуск редактора nano, редактора `vi`, браузера `links` или выход из меню.
    6. Если скрипт запущен из домашнего директория, вывести на экран путь к домашнему директорию и выйти с `кодом 0`. В противном случае вывести сообщение об ошибке и выйти с `кодом 1`.

3. Предъявите скрипты преподавателю и получите вопрос или задание для защиты лабораторной работы.

## Лабораторная работа №2

1. Создать файл `errors.log`, в который поместить все строки из всех доступных для чтения файлов директории `/var/log/`, начинающиеся c последовательности символов `ACPI`, без указания имени файла, в котором встретилась строка. Вывести на экран те строчки из получившегося файла, которые содержат полные имена каких-либо файлов.

2. Создать `full.log`, в который вывести строки файла `/var/log/Xorg.0.log`, содержащие предупреждения и информационные сообщения, заменив маркеры предупреждений и информационных сообщений на слова `Warning:` и `Information:`, чтобы в получившемся файле сначала шли все ошибки, а потом все предупреждения. Вывести этот файл на экран.

3. Создать файл `emails.lst`, в который вывести через запятую все адреса электронной почты, встречающиеся во всех файлах директории `/etc`.

4. Найти в директории `/bin` все файлы, которые являются сценариями, и вывести на экран полное имя файла с интерпретатором, наиболее часто используемым в этих сценариях (только полное имя файла).

5. Вывести список пользователей системы с указанием их `UID`, отсортировав по `UID`. Сведения о пользователей хранятся в файле `/etc/passwd`. В каждой строке этого файла первое поле – имя пользователя, третье поле – `UID`. Разделитель – двоеточие.

6. Подсчитать общее количество строк в файлах, находящихся в директории `/var/log/` и имеющих расширение `log`.

7. Вывести три наиболее часто встречающихся слова из `man` по команде `bash` длиной не менее четырех символов.

## Лабораторная работа №3

Создать скрипт, который должен выполнять следующие действия:
    
1.  Создать директорию `test` в домашней директории пользователя.
2.  Создать в ней файл `list`, содержащий список всех файлов и поддиректориев домашней директории (включая скрытые) в таком виде, что можно однозначно определить какая из записей является именем файла, а какая — названием директории.
3.  Создать в директории `test` директорию `links`.
4.  Создать в директории `links` жесткую ссылку на файл `list` с именем `list_link`.
5.  Удалить файл `~/test/list`.
6.  Вывести на экран содержимое файла `list_link`.
7.  Создать в домашней директории пользователя жесткую ссылку на файл `list_link` с именем `list1`.
8.  Создать в домашней директории файл `list_conf`, содержащий список файлов с расширением `.conf`, из директории `/etc` и всех ее поддиректориев    
9.  Создать в домашней директории файл `list_d`, содержащий список всех поддиректориев директории `/etc`, расширение которых `.d`.
10.  Создать файл `list_conf_d`, включив в него последовательно содержимое `list_conf` и `list_d`.
11.  Создать в директории `links` символьную ссылку на файл `list_conf_d` с именем `list_conf_d_link`. 
12.  Создать в директории `links` жесткую ссылку на файл `list1` с именем `links_list1`.
13.  Вывести на экран содержимое файла `list_conf_d_link` с возможностью постраничного просмотра содержимого.    
14.  Создать в директории `test` скрытую поддиректорию `sub`.    
15.  Скопировать в нее файл `list_conf_d`.
16.  Еще раз скопировать туда же этот же файл в режиме автоматического создания резервной копии замещаемых файлов.
17.  Переименовать скопированный файл `list_conf_d` в `list_etc`.
18.  Удалить исходный файл `list_conf_d`.
19.  Попытаться вывести на экран файл `list_conf_d_link`.
20.  Создать в директории `test` файл `calendar.txt` в который вывести календарь за `2012 год`.
21.  Используя одну команду вывести только три первых месяца из получившегося файла.
22.  Вывести на экран полный список файлов (включая все поддиректории) директории `test`.
23.  Получить число имен (жестких ссылок) файла `list_link`.
24.  Создать в домашнем директории файл `man.txt`, содержащий документацию на команду `man`.
25.  Разбить файл `man.txt` на несколько файлов, каждый из которых будет иметь размер не более `1 килобайта`.   
26.  Создать директорию `man.dir`.
27.  Переместить одной командой все файлы, полученные в `пункте 25` в директорию `man.dir`.
28.  Собрать в файлы в директории `man.dir` обратно в файл с именем `man.txt`.
29.  Сравнить файлы `man.txt` в домашней директории и в директории `man.dir` и вывести сообщение `"ОК"`, если файлы идентичны.    
30.  Добавить в файл `man.txt`, находящийся в домашней директории несколько строчек с произвольными символами в начало файла и несколько строчек в конце файла.    
31.  Одной командой получить разницу между файлами в отдельный файл в стандартном формате для наложения патчей.    
32.  Переместить файл с разницей в директорию `man.dir`.
33.  Наложить патч из файла с разницей на `man.txt` в директории `man.dir`.    
34.  Сравнить файлы `man.txt` в домашней директории и в директории `man.dir` и вывести сообщение `"ОК"`, если файлы идентичны.
35.  Сделать паузу для проверки работы.    
36.  Уничтожить следы своей деятельности — стереть все файлы и директории которые были созданы в рамках работы скрипта.

## Лабораторная работа №5

Создать скрипт, который:

1. выводит в файл `work5.log` построчно список всех пользователей в системе в следующем формате: `«user NNN has id MM»`;
2. добавляет в файл `work5.log` строку, содержащую дату последней смены пароля для пользователя `root`;
3. добавляет в файл `work5.log` список всех групп в системе (только названия групп) через запятую;
4. делает так, чтобы при создании нового пользователя у него в домашнем каталоге создавался файл `readme.txt` с текстом `«Be careful!»`;
5. создает пользователя `u1` с паролем `12345678`;
6. создает группу `g1`;
7. делает так, чтобы пользователь `u1` дополнительно входил в группу `g1`;
8. добавляет в файл `work5.log` строку, содержащую сведения об идентификаторе и имени пользователя `u1` и идентификаторах и именах всех групп, в которые он входит;
9. делает так, чтобы пользователь `user` дополнительно входил в группу `g1`
10. добавляет в файл `work5.log` строку перечнем пользователей в группе `g1` через запятую;
11. делает так, что при входе пользователя `u1` в систему вместо оболочки bash автоматически запускается `/usr/bin/mc`, при выходе из которого пользователь возвращается к вводу логина и пароля;
12. создает пользователя `u2` с паролем `87654321`;
13. в каталоге `/home` создает каталог `test13`, в который копирует файл `work5.log` два раза с разными именами (`work5-1.log` и `work5-2.log`);
14. сделает так, чтобы пользователи `u1` и `u2` смогли бы просматривать каталог `test13` и читать эти файлы, только пользователь `u1` смог бы изменять и удалять их, а все остальные пользователи системы не могли просматривать содержимое каталога `test13` и файлов в нем. При этом никто не должен иметь права исполнять эти файлы;
15. создаст в каталоге `/home` каталог `test15`, в который любой пользователь системы сможет записать данные, но удалить любой файл сможет только пользователь, который его создал или пользователь `u1`;
16. скопирует в каталог `test15` исполняемый файл редактора `nano` и сделает так, чтобы любой пользователь смог изменять с его помощью файлы, созданные в пункте `13`;
